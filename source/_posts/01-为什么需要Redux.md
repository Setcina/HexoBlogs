---
title: 01-为什么需要Redux
date: 2018-12-02 21:54:50
tags:
  - Redux
---
首先我们要理解一下React，React只是一个DOM的一个抽象层，并不是 Web 应用的完整解决方案。有两个方面，它没涉及。

* 1.代码结构
* 2.组件之间的通信

对于大型的复杂应用来说，这两方面恰恰是最关键的。因此，只用 React 没法写大型应用。

为了解决这个问题，2014年 Facebook 提出了 Flux 架构的概念，引发了很多的实现。2015年，Redux 出现，将 Flux 与函数式编程结合一起，很短时间内就成为了最热门的前端架构。

首先要明确自己，需不需要Redux

Redux 是一个有用的架构，但不是非用不可。事实上，大多数情况，你可以不用它，只用 React 就够了。

#### 如果你的UI层非常简单，没有很多互动，Redux 就是不必要的，用了反而增加复杂性。
* 1.用户的使用方式非常简单
* 2.用户之间没有协作
* 3.不需要与服务器大量交互，也没有使用 WebSocket
* 4.视图层（View）只从单一来源获取数据

#### 那么在以下这些情况，你就需要用到Redux了
* 1.用户的使用方式复杂
* 2.不同身份的用户有不同的使用方式（比如普通用户和管理员）
* 3.多个用户之间可以协作
* 4.与服务器大量交互，或者使用了WebSocket
* 5.View要从多个来源获取数据

#### 从组件角度看，如果你的应用有以下场景，可以考虑使用 Redux。

* 某个组件的状态，需要共享
* 某个状态需要在任何地方都可以拿到
* 一个组件需要改变全局状态
* 一个组件需要改变另一个组件的状态


#### 我们可以看一下Redux的工作流程
<img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016091802.jpg" alt="" title="">

* 1.首先用户发出action   

* 2.然后Store自动调用Reducer，并且传入两个参数，新的state以及收到的action。Reducer会返回新的State

* 3.state一旦有变化，Store就会调用监听函数，重新渲染View